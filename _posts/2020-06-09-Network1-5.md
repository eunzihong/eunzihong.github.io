---
layout: post
title: Protocol Layers  
---

Computer Networking: A top-down approach  
[Chapter 1] Computer Networks and the Internet  
1.5 Protocol Layers and Their Service Models  

----  

### 1.5.1 Layered Architecture  
공항에서 승객들이 비행기에 탑승하기 위해 먼저 공항에 들어와서 티켓을 발권하고 수하물 검사를 한 후 탑승장으로 입장한다. 유효한 티켓을 가지고 비행기에 탑승하여 비행을 하고 목적지 공항에 착륙하여 내린다. 다시 수하물을 찾고 공항 밖으로 나온다. 이러한 일련의 과정은 어떠한 과정들이 꼭 선행되어야 하는 경우도 있고 승객 타입에 따라 접근 과정과 권한이 다를 수도 있다. 네트워크에서도 통신을 위해 각각 거쳐야 하는 순서와 규칙이 있고 이 과정이 **계층화** 되어있다.   

#### [네트워크 계층화 이점]  
- 크고 복잡한 시스템을 구획화, 구조화하여 관리  
- 시스템 구성요소의 갱신을 더 쉽게 함  

#### [네트워크 계층화 결점]  
- 한 계층의 기능이 하위 계층에 중복됨  
- 한 계층에서 사용되는 정보가 다른 계층에서도 요구돰  

네트워크 계층은 크게 5개 개층으로 구성된다; 애플리케이션 계층, 트랜스포트 계층, 네트워크 계층, 링크 계층, 물리 계층  

<br>

#### 애플리케이션 계층 Application Layer  
호스트와 호스트 상 네트워크 애플리케이션 실행에 관여하는 직접적인 계층이다. 애플리케이션 계층의 패킷은 **메시지(message)** 라 부르며 이 메시지를 주고 받으며 프로그램 실행을 진행한다.  

- 네트워크 애플리케이션 : 이메일, 토렌트, 넷플릭스, 구글드라이브 등 네트워크를 통해 전해자는 다양한 프로그램  
- 애플리케이션 프로토콜 : HTTP, SMTP, FTP 등  
- 애플리케이션 계층 기능 : DNS 등  

#### 트랜스포트 계층 Transport Layer  
애플리케이션 계층의 메시지를 클라이언트와 서버에 전송한다. 인터넷 트랜스포트 프로토콜에는 TCP와 UDP가 있다. 트랜스포트 계층의 패킷은 **세그먼트(segment)** 라 부른다.  

#### 네트워크 계층 Network Layer  
**출발지와 목적지 간 일련의 패킷 스위치(라우터)를 통해 데이터그램을 라우트.**  
트랜스포트 계층으로부터 전달받은 목적지 주소와 세그먼트를 운반한다. 네트워크 계층의 패킷은 **데이터그램(datagram)** 이라 부른다. 그 유명한 IP가 네트워크 계층의 프로토콜이다. IP datagram의 필드를 정의하고 출발지와 목적지 사이의 라우팅을 결정한다. 인터넷 라우팅 프로토콜은 다양하게 존재한다.  

#### 링크 계층 Link Layer  
**전체 프레임을 한 네트워크 요소에서 다음 네트워크 요소로 이동.**  
링크 계층의 패킷은 프레임(frame)이라 부른다.  

#### 물리 계층 Physical Layer  
**링크 계층의 프레임 내부의 각 비트를 한 노드에서 다음 노드로 이동.**  
물리 매개체(케이블, 무선 네트워크 등)을 통해 물리적으로 데이터 신호를 전달한다.  

※ OSI 모델  
1970년대 후반 ISO(International Organization for Standardization)는 네트워크를 7개 계층으로 분리하는 것을 제안한다. 이 모델을 OSI(Open System Interconnection)이라 부른다. 애플리케이션 계층과 트랜스포트 계층 사이에 프레젠테이션 계층과 세션 계층을 추가로 가지고 있다.  

<br>

### 1.5.2 캡슐화 Encapsulation  
각 계층은 앞선 계층에서의 패킷과 정보를 전달받아 **해당 계층의 패키지로 캡슐화** 하여 다음 계층으로 전달한다. 애플리케이션 계층의 메시지에 적절한 헤더 정보를 함께 담아 트랜스포트 계층에 전달하면 이를 캡슐화한 세그먼트라는 패키지를 만든다. 여기에 오류 검출 비트 등 추가적인 내용을 담아 네트워크 계층에 전달한다. 세그먼트와 추가 정보, IP 헤더 내용을 추가하여 네트워크 계층의 데이터그램을 만들고 다음 링크 계층에 전달한다.  

<br>
<br>